<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
<h:head>
</h:head>

<h:body>
    <h:dataTable value="#{firmService.getAllFirms()}" var="ffirm"
                 styleClass="article-table"
                 rules="all" id="result-table">
        <h:column>
            <f:facet name="header">Id</f:facet>
            #{ffirm.id}
        </h:column>
        <h:column>
            <f:facet name="header">Title</f:facet>
            #{ffirm.title}
        </h:column>
        <h:column>
            <f:facet name="header">Specialization</f:facet>
            #{ffirm.specialization}
        </h:column>
        <h:column>
            <f:facet name="header">Email</f:facet>
            #{ffirm.email}
        </h:column>
        <h:column>
            <f:facet name="header">Status</f:facet>
            #{ffirm.status}
        </h:column>
    </h:dataTable>

    <fieldset>
        <legend>Approve firm</legend>
        <h:form id="approveForm">
            <h:outputText value="Firm id"/>
            <h:inputText binding="#{firmId}" converter="javax.faces.Integer"/>
            <br/>
            <h:commandButton id="approveButton" value="Approve" action="#{firmService.approveFirm(firmId.value)}">
                <f:ajax execute="@form" render="approveForm" />
            </h:commandButton>
            <br/>
            <h:message class="error" for="approveButton"/>
        </h:form>
    </fieldset>

    <a href="http://localhost:8080/show_tank_avallable_details.xhtml">Back to monitor</a>
</h:body>
</html>
